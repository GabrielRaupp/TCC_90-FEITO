{"ast":null,"code":"import React,{useState,useEffect}from'react';import styles from'./horarioForm.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HorarioForm(_ref){let{handleSubmit,btnText}=_ref;const[horario,setHorario]=useState({name:'',budget:'',category:{id:'',name:''}});const[categories,setCategories]=useState([]);useEffect(()=>{fetch('http://localhost:3000/categories',{method:'GET',headers:{'Content-Type':'application/json'}}).then(resp=>resp.json()).then(data=>{setCategories(data);}).catch(err=>console.log(err));},[]);const handleChange=e=>{setHorario({...horario,[e.target.name]:e.target.value});};const handleCategoryChange=e=>{const selectedCategory=categories.find(category=>category._id===e.target.value);setHorario({...horario,category:{id:selectedCategory._id,name:selectedCategory.name}});};const submit=e=>{e.preventDefault();handleSubmit(horario);};return/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:submit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Digite o nome do hor\\xE1rio\",onChange:handleChange,className:styles.input}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"budget\",placeholder:\"Digite o or\\xE7amento\",onChange:handleChange,className:styles.input}),/*#__PURE__*/_jsxs(\"select\",{name:\"category_id\",onChange:handleCategoryChange,className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Selecione uma categoria\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category._id,children:category.name},category._id))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.button,children:btnText})]});}export default HorarioForm;","map":{"version":3,"names":["React","useState","useEffect","styles","jsx","_jsx","jsxs","_jsxs","HorarioForm","_ref","handleSubmit","btnText","horario","setHorario","name","budget","category","id","categories","setCategories","fetch","method","headers","then","resp","json","data","catch","err","console","log","handleChange","e","target","value","handleCategoryChange","selectedCategory","find","_id","submit","preventDefault","className","form","onSubmit","children","type","placeholder","onChange","input","select","map","button"],"sources":["/home/redes/Gabriel_Raupp/Test_Front/src/components/horario/HorarioForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styles from './horarioForm.module.css'; \n\nfunction HorarioForm({ handleSubmit, btnText }) {\n  const [horario, setHorario] = useState({\n    name: '',\n    budget: '',\n    category: { id: '', name: '' },\n  });\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    fetch('http://localhost:3000/categories', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((resp) => resp.json())\n      .then((data) => {\n        setCategories(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const handleChange = (e) => {\n    setHorario({\n      ...horario,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleCategoryChange = (e) => {\n    const selectedCategory = categories.find((category) => category._id === e.target.value);\n    setHorario({\n      ...horario,\n      category: {\n        id: selectedCategory._id,\n        name: selectedCategory.name,\n      },\n    });\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    handleSubmit(horario);\n  };\n\n  return (\n    <form className={styles.form} onSubmit={submit}>\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Digite o nome do horário\"\n        onChange={handleChange}\n        className={styles.input}\n      />\n      <input\n        type=\"number\"\n        name=\"budget\"\n        placeholder=\"Digite o orçamento\"\n        onChange={handleChange}\n        className={styles.input}\n      />\n      <select name=\"category_id\" onChange={handleCategoryChange} className={styles.select}>\n        <option>Selecione uma categoria</option>\n        {categories.map((category) => (\n          <option key={category._id} value={category._id}>\n            {category.name}\n          </option>\n        ))}\n      </select>\n      <button type=\"submit\" className={styles.button}>{btnText}</button>\n    </form>\n  );\n}\n\nexport default HorarioForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}