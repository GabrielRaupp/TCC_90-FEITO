{"ast":null,"code":"import{useState,useEffect}from'react';import Input from'../form/Input';import Select from'../form/Select';import SubmitButton from'../form/SubmitButton';import styles from'./HorarioForm.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HorarioForm(_ref){let{handleSubmit,btnText,horarioData}=_ref;const[horario,setHorario]=useState(horarioData||{});const[categories,setCategories]=useState([]);useEffect(()=>{fetch('http://localhost:3000/categories',{method:'GET',headers:{'Content-Type':'application/json'}}).then(resp=>resp.json()).then(data=>{setCategories(data);});},[]);const submit=e=>{e.preventDefault();handleSubmit({name:horario.name,budget:parseInt(horario.budget,10),// Convert budget to Number\ncategory:{id:horario.category.id,name:horario.category.name}});};function handleChange(e){setHorario({...horario,[e.target.name]:e.target.value});}function handleCategory(e){setHorario({...horario,category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:styles.form,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Nome do Lembrete\",name:\"name\",placeholder:\"Insira aqui\",handleOnChange:handleChange,value:horario.name}),/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Horario do projeto\",name:\"budget\",placeholder:\"Insira o Horario\",handleOnChange:handleChange,value:horario.budget}),/*#__PURE__*/_jsx(Select,{name:\"category_id\",text:\"Selecione a categoria\",options:categories,handleOnChange:handleCategory,value:horario.category?horario.category.id:''}),/*#__PURE__*/_jsx(SubmitButton,{text:btnText})]});}export default HorarioForm;","map":{"version":3,"names":["useState","useEffect","Input","Select","SubmitButton","styles","jsx","_jsx","jsxs","_jsxs","HorarioForm","_ref","handleSubmit","btnText","horarioData","horario","setHorario","categories","setCategories","fetch","method","headers","then","resp","json","data","submit","e","preventDefault","name","budget","parseInt","category","id","handleChange","target","value","handleCategory","options","selectedIndex","text","onSubmit","className","form","children","type","placeholder","handleOnChange"],"sources":["/home/redes/Gabriel_Raupp/Test_Front/src/components/horario/HorarioForm.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Input from '../form/Input'\nimport Select from '../form/Select'\nimport SubmitButton from '../form/SubmitButton'\nimport styles from './HorarioForm.module.css'\n\nfunction HorarioForm({ handleSubmit, btnText, horarioData }) {\n  const [horario, setHorario] = useState(horarioData || {})\n  const [categories, setCategories] = useState([])\n\n  useEffect(() => {\n    fetch('http://localhost:3000/categories', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((resp) => resp.json())\n      .then((data) => {\n        setCategories(data)\n      })\n  }, [])\n\n  const submit = (e) => {\n    e.preventDefault()\n    handleSubmit({\n      name: horario.name,\n      budget: parseInt(horario.budget, 10), // Convert budget to Number\n      category: {\n        id: horario.category.id,\n        name: horario.category.name,\n      },\n    })\n  }\n\n  function handleChange(e) {\n    setHorario({ ...horario, [e.target.name]: e.target.value })\n  }\n\n  function handleCategory(e) {\n    setHorario({\n      ...horario,\n      category: {\n        id: e.target.value,\n        name: e.target.options[e.target.selectedIndex].text,\n      },\n    })\n  }\n\n  return (\n    <form onSubmit={submit} className={styles.form}>\n      <Input\n        type=\"text\"\n        text=\"Nome do Lembrete\"\n        name=\"name\"\n        placeholder=\"Insira aqui\"\n        handleOnChange={handleChange}\n        value={horario.name}\n      />\n      <Input\n        type=\"text\"\n        text=\"Horario do projeto\"\n        name=\"budget\"\n        placeholder=\"Insira o Horario\"\n        handleOnChange={handleChange}\n        value={horario.budget}\n      />\n      <Select\n        name=\"category_id\"\n        text=\"Selecione a categoria\"\n        options={categories}\n        handleOnChange={handleCategory}\n        value={horario.category ? horario.category.id : ''}\n      />\n      <SubmitButton text={btnText} />\n    </form>\n  )\n}\n\nexport default HorarioForm"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CACnC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,MAAM,KAAM,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAyC,IAAxC,CAAEC,YAAY,CAAEC,OAAO,CAAEC,WAAY,CAAC,CAAAH,IAAA,CACzD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAACc,WAAW,EAAI,CAAC,CAAC,CAAC,CACzD,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACdkB,KAAK,CAAC,kCAAkC,CAAE,CACxCC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACCC,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAC3BF,IAAI,CAAEG,IAAI,EAAK,CACdP,aAAa,CAACO,IAAI,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,MAAM,CAAIC,CAAC,EAAK,CACpBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBhB,YAAY,CAAC,CACXiB,IAAI,CAAEd,OAAO,CAACc,IAAI,CAClBC,MAAM,CAAEC,QAAQ,CAAChB,OAAO,CAACe,MAAM,CAAE,EAAE,CAAC,CAAE;AACtCE,QAAQ,CAAE,CACRC,EAAE,CAAElB,OAAO,CAACiB,QAAQ,CAACC,EAAE,CACvBJ,IAAI,CAAEd,OAAO,CAACiB,QAAQ,CAACH,IACzB,CACF,CAAC,CAAC,CACJ,CAAC,CAED,QAAS,CAAAK,YAAYA,CAACP,CAAC,CAAE,CACvBX,UAAU,CAAC,CAAE,GAAGD,OAAO,CAAE,CAACY,CAAC,CAACQ,MAAM,CAACN,IAAI,EAAGF,CAAC,CAACQ,MAAM,CAACC,KAAM,CAAC,CAAC,CAC7D,CAEA,QAAS,CAAAC,cAAcA,CAACV,CAAC,CAAE,CACzBX,UAAU,CAAC,CACT,GAAGD,OAAO,CACViB,QAAQ,CAAE,CACRC,EAAE,CAAEN,CAAC,CAACQ,MAAM,CAACC,KAAK,CAClBP,IAAI,CAAEF,CAAC,CAACQ,MAAM,CAACG,OAAO,CAACX,CAAC,CAACQ,MAAM,CAACI,aAAa,CAAC,CAACC,IACjD,CACF,CAAC,CAAC,CACJ,CAEA,mBACE/B,KAAA,SAAMgC,QAAQ,CAAEf,MAAO,CAACgB,SAAS,CAAErC,MAAM,CAACsC,IAAK,CAAAC,QAAA,eAC7CrC,IAAA,CAACL,KAAK,EACJ2C,IAAI,CAAC,MAAM,CACXL,IAAI,CAAC,kBAAkB,CACvBX,IAAI,CAAC,MAAM,CACXiB,WAAW,CAAC,aAAa,CACzBC,cAAc,CAAEb,YAAa,CAC7BE,KAAK,CAAErB,OAAO,CAACc,IAAK,CACrB,CAAC,cACFtB,IAAA,CAACL,KAAK,EACJ2C,IAAI,CAAC,MAAM,CACXL,IAAI,CAAC,oBAAoB,CACzBX,IAAI,CAAC,QAAQ,CACbiB,WAAW,CAAC,kBAAkB,CAC9BC,cAAc,CAAEb,YAAa,CAC7BE,KAAK,CAAErB,OAAO,CAACe,MAAO,CACvB,CAAC,cACFvB,IAAA,CAACJ,MAAM,EACL0B,IAAI,CAAC,aAAa,CAClBW,IAAI,CAAC,uBAAuB,CAC5BF,OAAO,CAAErB,UAAW,CACpB8B,cAAc,CAAEV,cAAe,CAC/BD,KAAK,CAAErB,OAAO,CAACiB,QAAQ,CAAGjB,OAAO,CAACiB,QAAQ,CAACC,EAAE,CAAG,EAAG,CACpD,CAAC,cACF1B,IAAA,CAACH,YAAY,EAACoC,IAAI,CAAE3B,OAAQ,CAAE,CAAC,EAC3B,CAAC,CAEX,CAEA,cAAe,CAAAH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}