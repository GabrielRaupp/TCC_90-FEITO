{"ast":null,"code":"var _jsxFileName = \"/home/redes/Gabriel_Raupp/Test_Front/src/components/pages/Horarios.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Container from '../layout/Container';\nimport Loading from '../layout/Loading';\nimport LinkButton from '../layout/LinkButton';\nimport HorarioCard from '../horario/HorarioCard';\nimport Message from '../layout/Message';\nimport styles from './Horarios.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Horarios() {\n  _s();\n  const [horarios, setHorarios] = useState([]);\n  const [removeLoading, setRemoveLoading] = useState(false);\n  const [horarioMessage, setHorarioMessage] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/horarios');\n        const data = await response.json();\n        console.log('Horarios recebidos:', data);\n        setHorarios(data);\n        setRemoveLoading(true);\n      } catch (error) {\n        console.error(\"Erro ao buscar horários:\", error);\n        setRemoveLoading(true);\n      }\n    };\n    fetchData();\n  }, []);\n  const removeHorario = async id => {\n    try {\n      await fetch(`http://localhost:3000/horarios/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setHorarios(horarios.filter(horario => horario._id !== id));\n      setHorarioMessage('Horário removido com sucesso!');\n    } catch (error) {\n      console.error(\"Erro ao remover horário:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.title_container,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Meus Hor\\xE1rios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n        to: \"/newhorario\",\n        text: \"Montar hor\\xE1rio\",\n        customClass: styles.addHorarioButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), horarioMessage && /*#__PURE__*/_jsxDEV(Message, {\n      type: \"success\",\n      msg: horarioMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      customClass: styles.container,\n      children: horarios.length > 0 ? horarios.map(horario => {\n        var _horario$category;\n        return /*#__PURE__*/_jsxDEV(HorarioCard, {\n          id: horario._id,\n          name: horario.name,\n          budget: horario.budget,\n          category: ((_horario$category = horario.category) === null || _horario$category === void 0 ? void 0 : _horario$category.name) || 'Sem categoria',\n          handleRemove: removeHorario,\n          customClass: styles.horarioCard\n        }, horario._id || horario.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this);\n      }) : !removeLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 28\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"N\\xE3o h\\xE1 hor\\xE1rios cadastrados!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 42\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Horarios, \"r3a1Bcnwti+m+hxnAF7m4/dGRT8=\");\n_c = Horarios;\nexport default Horarios;\nvar _c;\n$RefreshReg$(_c, \"Horarios\");","map":{"version":3,"names":["useState","useEffect","Container","Loading","LinkButton","HorarioCard","Message","styles","jsxDEV","_jsxDEV","Horarios","_s","horarios","setHorarios","removeLoading","setRemoveLoading","horarioMessage","setHorarioMessage","fetchData","response","fetch","data","json","console","log","error","removeHorario","id","method","headers","filter","horario","_id","className","container","children","title_container","fileName","_jsxFileName","lineNumber","columnNumber","to","text","customClass","addHorarioButton","type","msg","length","map","_horario$category","name","budget","category","handleRemove","horarioCard","_c","$RefreshReg$"],"sources":["/home/redes/Gabriel_Raupp/Test_Front/src/components/pages/Horarios.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Container from '../layout/Container';\nimport Loading from '../layout/Loading';\nimport LinkButton from '../layout/LinkButton';\nimport HorarioCard from '../horario/HorarioCard';\nimport Message from '../layout/Message';\nimport styles from './Horarios.module.css';\n\nfunction Horarios() {\n  const [horarios, setHorarios] = useState([]);\n  const [removeLoading, setRemoveLoading] = useState(false);\n  const [horarioMessage, setHorarioMessage] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/horarios');\n        const data = await response.json();\n        console.log('Horarios recebidos:', data);\n        setHorarios(data);\n        setRemoveLoading(true);\n      } catch (error) {\n        console.error(\"Erro ao buscar horários:\", error);\n        setRemoveLoading(true);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const removeHorario = async (id) => {\n    try {\n      await fetch(`http://localhost:3000/horarios/${id}`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      setHorarios(horarios.filter((horario) => horario._id !== id));\n      setHorarioMessage('Horário removido com sucesso!');\n    } catch (error) {\n      console.error(\"Erro ao remover horário:\", error);\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.title_container}>\n        <h1>Meus Horários</h1>\n        <LinkButton to=\"/newhorario\" text=\"Montar horário\" customClass={styles.addHorarioButton} />\n      </div>\n      {horarioMessage && <Message type=\"success\" msg={horarioMessage} />}\n      <Container customClass={styles.container}>\n        {horarios.length > 0 ? (\n          horarios.map((horario) => (\n            <HorarioCard\n              id={horario._id}\n              name={horario.name}\n              budget={horario.budget}\n              category={horario.category?.name || 'Sem categoria'}\n              key={horario._id || horario.id}\n              handleRemove={removeHorario}\n              customClass={styles.horarioCard}\n            />\n          ))\n        ) : (\n          !removeLoading ? <Loading /> : <p>Não há horários cadastrados!</p>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default Horarios;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}