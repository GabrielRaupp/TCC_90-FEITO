{"ast":null,"code":"var _jsxFileName = \"/home/redes/Gabriel_Raupp/Test_Front/src/components/pages/Horarios.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Container from '../layout/Container';\nimport Loading from '../layout/Loading';\nimport LinkButton from '../layout/LinkButton';\nimport HorarioCard from '../horario/HorarioCard';\nimport Message from '../layout/Message';\nimport styles from './Horarios.module.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Horarios() {\n  _s();\n  const [horarios, setHorarios] = useState([]);\n  const [loading, setLoading] = useState(true); // Mudado para `loading` para clareza\n  const [horarioMessage, setHorarioMessage] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/horarios'); // ou a URL de produção\n        const data = await response.json();\n        setHorarios(data);\n        setLoading(false); // Define o estado `loading` como `false` quando os dados são carregados\n      } catch (error) {\n        console.error(\"Erro ao buscar horários:\", error);\n        setLoading(false); // Também define o estado `loading` como `false` se ocorrer um erro\n      }\n    };\n    fetchData();\n  }, []);\n  const removeHorario = async id => {\n    try {\n      await fetch(`http://localhost:3000/horarios/${id}`, {\n        // Adicionadas aspas ao redor da URL\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setHorarios(horarios.filter(horario => horario._id !== id));\n      setHorarioMessage('Horário removido com sucesso!');\n    } catch (error) {\n      console.error(\"Erro ao remover horário:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.horario_container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.title_container,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Meus Hor\\xE1rios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n        to: \"/newhorario\",\n        text: \"Montar hor\\xE1rio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), horarioMessage && /*#__PURE__*/_jsxDEV(Message, {\n      type: \"success\",\n      msg: horarioMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      customClass: \"start\",\n      children: loading ?\n      /*#__PURE__*/\n      // Mostra o componente `Loading` se `loading` for verdadeiro\n      _jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: horarios.length > 0 ? horarios.map(horario => /*#__PURE__*/_jsxDEV(HorarioCard, {\n          id: horario._id,\n          name: horario.name,\n          budget: horario.budget,\n          category: horario.category.name,\n          handleRemove: removeHorario\n        }, horario._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"N\\xE3o h\\xE1 hor\\xE1rios cadastrados!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Horarios, \"KssSav0FH2oeaNXW2DEwgABrA0A=\");\n_c = Horarios;\nexport default Horarios;\nvar _c;\n$RefreshReg$(_c, \"Horarios\");","map":{"version":3,"names":["useState","useEffect","Container","Loading","LinkButton","HorarioCard","Message","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","Horarios","_s","horarios","setHorarios","loading","setLoading","horarioMessage","setHorarioMessage","fetchData","response","fetch","data","json","error","console","removeHorario","id","method","headers","filter","horario","_id","className","horario_container","children","title_container","fileName","_jsxFileName","lineNumber","columnNumber","to","text","type","msg","customClass","length","map","name","budget","category","handleRemove","_c","$RefreshReg$"],"sources":["/home/redes/Gabriel_Raupp/Test_Front/src/components/pages/Horarios.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Container from '../layout/Container';\nimport Loading from '../layout/Loading';\nimport LinkButton from '../layout/LinkButton';\nimport HorarioCard from '../horario/HorarioCard';\nimport Message from '../layout/Message';\nimport styles from './Horarios.module.css';\n\nfunction Horarios() {\n  const [horarios, setHorarios] = useState([]);\n  const [loading, setLoading] = useState(true); // Mudado para `loading` para clareza\n  const [horarioMessage, setHorarioMessage] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/horarios'); // ou a URL de produção\n        const data = await response.json();\n        setHorarios(data);\n        setLoading(false); // Define o estado `loading` como `false` quando os dados são carregados\n      } catch (error) {\n        console.error(\"Erro ao buscar horários:\", error);\n        setLoading(false); // Também define o estado `loading` como `false` se ocorrer um erro\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const removeHorario = async (id) => {\n    try {\n      await fetch(`http://localhost:3000/horarios/${id}`, { // Adicionadas aspas ao redor da URL\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      setHorarios(horarios.filter((horario) => horario._id !== id));\n      setHorarioMessage('Horário removido com sucesso!');\n    } catch (error) {\n      console.error(\"Erro ao remover horário:\", error);\n    }\n  };\n\n  return (\n    <div className={styles.horario_container}>\n      <div className={styles.title_container}>\n        <h1>Meus Horários</h1>\n        <LinkButton to=\"/newhorario\" text=\"Montar horário\" />\n      </div>\n      {horarioMessage && <Message type=\"success\" msg={horarioMessage} />}\n      <Container customClass=\"start\">\n        {loading ? ( // Mostra o componente `Loading` se `loading` for verdadeiro\n          <Loading />\n        ) : (\n          <>\n            {horarios.length > 0 ? (\n              horarios.map((horario) => (\n                <HorarioCard\n                  id={horario._id}\n                  name={horario.name}\n                  budget={horario.budget}\n                  category={horario.category.name}\n                  key={horario._id}\n                  handleRemove={removeHorario}\n                />\n              ))\n            ) : (\n              <p>Não há horários cadastrados!</p>\n            )}\n          </>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default Horarios;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}